{"version":3,"sources":["components/ErrorBoundary/index.jsx","hooks/useLocalStorage.js","pages/Admin/AdminProvider.js","components/Root/index.jsx","renderProps/AdminProtector.js","components/SideBar/index.jsx","pages/TodoList/actions.js","pages/TodoList/reducer.js","pages/TodoList/index.jsx","hooks/useMousePosition.js","renderProps/MousePosition.jsx","HOCs/withMousePosition.jsx","pages/ReusingLogic/Box/index.jsx","pages/ReusingLogic/index.jsx","pages/Admin/index.jsx","HOCs/withAdmin.js","pages/Admin/AdminToggle/index.jsx","components/App/index.jsx","index.js"],"names":["ErrorBoundary","state","errorMessage","this","className","props","children","error","message","Component","useLocalStorage","key","initialValue","useState","item","window","localStorage","getItem","JSON","parse","console","log","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","AdminContext","createContext","AdminProvider","Provider","Root","AdminProtector","useContext","SideBar","to","activeClassName","SET_TITLE","ADD_TODO","TOGGLE_TODO","DELETE_TODO","initialState","title","todoList","reducer","action","type","payload","map","todo","id","isCompleted","filter","Error","TodoList","useReducer","dispatch","onSubmit","e","preventDefault","trim","Date","now","addTodo","onChange","setTitle","target","onClick","toggleTodo","style","textDecoration","deleteTodo","useMousePosition","ref","useRef","x","y","xy","setXY","useEffect","el","current","getBoundingClientRect","handleMouseMove","clientX","clientY","Math","round","addEventListener","removeEventListener","MousePosition","withMousePosition","WrappedComponent","Box","forwardRef","BoxWithMouseCords","ReusingLogic","withAdmin","color","AdminToggle","isAdmin","setIsAdmin","checked","App","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5a569706.chunk.js","sourcesContent":["import { Component } from 'react';\n\nimport './index.scss';\n\nclass ErrorBoundary extends Component {\n  state = { errorMessage: false };\n\n  static getDerivedStateFromError(error) {\n    return { errorMessage: error.message };\n  }\n\n  render() {\n    return this.state.errorMessage ? (\n      <div className=\"ErrorBoundary\">\n        <h2>Something went wrong</h2>\n        <code>Error message: {this.state.errorMessage}</code>\n      </div>\n    ) : (\n      this.props.children\n    );\n  }\n}\n\nexport default ErrorBoundary;\n","import { useState } from 'react';\n\nconst useLocalStorage = (key, initialValue) => {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = value => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return [storedValue, setValue];\n};\n\nexport default useLocalStorage;\n","import { createContext } from 'react';\n\nimport useLocalStorage from '../../hooks/useLocalStorage';\n\nexport const AdminContext = createContext(null);\n\nfunction AdminProvider({ children }) {\n  const state = useLocalStorage('isAdmin', true);\n\n  return <AdminContext.Provider value={state}>{children}</AdminContext.Provider>;\n}\n\nexport default AdminProvider;\n","import { StrictMode } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport ErrorBoundary from '../ErrorBoundary';\nimport AdminProvider from '../../pages/Admin/AdminProvider';\n\nfunction Root({ children }) {\n  return (\n    <StrictMode>\n      <ErrorBoundary>\n        <AdminProvider>\n          <Router>{children}</Router>\n        </AdminProvider>\n      </ErrorBoundary>\n    </StrictMode>\n  );\n}\n\nexport default Root;\n","import { useContext } from 'react';\n\nimport { AdminContext } from '../pages/Admin/AdminProvider';\n\nconst AdminProtector = ({ children }) => {\n  const [isAdmin] = useContext(AdminContext);\n\n  return isAdmin ? children : null;\n};\n\nexport default AdminProtector;\n","import { NavLink } from 'react-router-dom';\n\nimport AdminProtector from '../../renderProps/AdminProtector';\nimport './styles.scss';\n\nfunction SideBar() {\n  return (\n    <div className=\"SideBar\">\n      <ul>\n        <li>\n          <NavLink to=\"/todo-list\" activeClassName=\"bold\">\n            Todo List\n          </NavLink>\n        </li>\n\n        <li>\n          <NavLink to=\"/reusing-logic\" activeClassName=\"bold\">\n            Reusing Logic\n          </NavLink>\n        </li>\n\n        <AdminProtector>\n          <li>\n            <NavLink to=\"/admin\" activeClassName=\"bold\">\n              Admin\n            </NavLink>\n          </li>\n        </AdminProtector>\n      </ul>\n    </div>\n  );\n}\n\nexport default SideBar;\n","export const SET_TITLE = 'setTitle';\nexport const ADD_TODO = 'addTodo';\nexport const TOGGLE_TODO = 'toggleTodo';\nexport const DELETE_TODO = 'deleteTodo';\n\nexport const setTitle = title => ({\n  type: SET_TITLE,\n  payload: title,\n});\n\nexport const addTodo = title => ({\n  type: ADD_TODO,\n  payload: {\n    id: Date.now(),\n    title: title.trim(),\n    isCompleted: false,\n  },\n});\n\nexport const toggleTodo = id => ({\n  type: TOGGLE_TODO,\n  payload: id,\n});\n\nexport const deleteTodo = id => ({\n  type: DELETE_TODO,\n  payload: id,\n});\n","import { SET_TITLE, ADD_TODO, TOGGLE_TODO, DELETE_TODO } from './actions';\n\nexport const initialState = {\n  title: '',\n  todoList: [],\n};\n\nconst reducer = (state, action) => {\n  const { todoList } = state;\n  const { type, payload } = action;\n\n  switch (type) {\n    case SET_TITLE: {\n      return {\n        ...state,\n        title: payload,\n      };\n    }\n    case ADD_TODO: {\n      return {\n        title: '',\n        todoList: [...todoList, payload],\n      };\n    }\n    case TOGGLE_TODO:\n      return {\n        ...state,\n        todoList: todoList.map(todo =>\n          todo.id === payload ? { ...todo, isCompleted: !todo.isCompleted } : todo\n        ),\n      };\n    case DELETE_TODO:\n      return {\n        ...state,\n        todoList: todoList.filter(todo => todo.id !== payload),\n      };\n    default:\n      throw new Error(`Type \"${type}\" is not defined`);\n  }\n};\n\nexport default reducer;\n","import { useReducer } from 'react';\n\nimport { setTitle, addTodo, toggleTodo, deleteTodo } from './actions';\nimport reducer, { initialState } from './reducer';\nimport './styles.scss';\n\nfunction TodoList() {\n  const [{ title, todoList }, dispatch] = useReducer(reducer, initialState);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (title.trim()) {\n      dispatch(addTodo(title));\n    }\n  };\n\n  return (\n    <div className=\"TodoList\">\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" value={title} onChange={e => dispatch(setTitle(e.target.value))} />\n      </form>\n\n      <ul>\n        {todoList.map(({ id, title, isCompleted }) => (\n          <li key={id} onClick={() => dispatch(toggleTodo(id))}>\n            <span style={{ textDecoration: isCompleted ? 'line-through' : 'auto' }}>{title}</span>\n\n            <button type=\"button\" onClick={() => dispatch(deleteTodo(id))}>\n              X\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default TodoList;\n","import { useState, useEffect, useRef } from 'react';\n\nconst useMousePosition = () => {\n  const ref = useRef(null);\n  const [xy, setXY] = useState({ x: 0, y: 0 });\n\n  useEffect(() => {\n    const el = ref.current;\n\n    const { x, y } = el.getBoundingClientRect();\n\n    const handleMouseMove = ({ clientX, clientY }) => {\n      setXY({\n        x: Math.round(clientX - x),\n        y: Math.round(clientY - y),\n      });\n    };\n\n    el.addEventListener('mousemove', handleMouseMove);\n\n    return () => el.removeEventListener('mousemove', handleMouseMove);\n  }, []);\n\n  return [ref, xy];\n};\n\nexport default useMousePosition;\n","import useMousePosition from '../hooks/useMousePosition';\n\nfunction MousePosition({ children }) {\n  const [ref, xy] = useMousePosition();\n\n  return children(ref, xy);\n}\n\nexport default MousePosition;\n","import useMousePosition from '../hooks/useMousePosition';\n// import MousePosition from '../renderProps/MousePosition';\n\nconst withMousePosition = WrappedComponent => props => {\n  const [ref, xy] = useMousePosition();\n\n  return <WrappedComponent ref={ref} {...xy} {...props} />;\n};\n\n// const withMousePosition = WrappedComponent => props =>\n//   <MousePosition>{(ref, xy) => <WrappedComponent ref={ref} {...xy} {...props} />}</MousePosition>;\n\nexport default withMousePosition;\n","import { forwardRef } from 'react';\n\nimport './styles.scss';\n\nfunction Box({ x, y, children }, ref) {\n  return (\n    <div ref={ref} className=\"Box\">\n      <div className=\"xy\">\n        <div>x: {x}</div>\n        <div>y: {y}</div>\n      </div>\n\n      <div className=\"title\">{children}</div>\n    </div>\n  );\n}\n\nexport default forwardRef(Box);\n","import useMousePosition from '../../hooks/useMousePosition';\nimport MousePosition from '../../renderProps/MousePosition';\nimport withMousePosition from '../../HOCs/withMousePosition';\nimport Box from './Box';\nimport './index.scss';\n\nconst BoxWithMouseCords = withMousePosition(Box);\n\nfunction ReusingLogic() {\n  const [ref, { x, y }] = useMousePosition();\n\n  return (\n    <div className=\"ReusingLogic\">\n      <Box ref={ref} x={x} y={y}>\n        Hooks\n      </Box>\n\n      <MousePosition>\n        {(ref, { x, y }) => (\n          <Box ref={ref} x={x} y={y}>\n            Render Props\n          </Box>\n        )}\n      </MousePosition>\n\n      <BoxWithMouseCords>Higher-Order Components</BoxWithMouseCords>\n    </div>\n  );\n}\n\nexport default ReusingLogic;\n","import withAdmin from '../../HOCs/withAdmin';\n\nfunction Admin() {\n  return <h1>Admin Page</h1>;\n}\n\nexport default withAdmin(Admin);\n","import { useContext } from 'react';\n\nimport { AdminContext } from '../pages/Admin/AdminProvider';\n\nconst withAdmin = WrappedComponent => props => {\n  const [isAdmin] = useContext(AdminContext);\n\n  return isAdmin ? (\n    <WrappedComponent {...props} />\n  ) : (\n    // <Redirect to=\"/\" />\n    <h1 style={{ color: 'red' }}>Access Denied</h1>\n  );\n};\n\nexport default withAdmin;\n","import { useContext } from 'react';\n\nimport { AdminContext } from '../AdminProvider';\nimport './styles.scss';\n\nfunction AdminToggle() {\n  const [isAdmin, setIsAdmin] = useContext(AdminContext);\n\n  return (\n    <div className=\"AdminToggle\">\n      <label>\n        <span>Is Admin</span>\n        <input type=\"checkbox\" checked={isAdmin} onChange={e => setIsAdmin(e.target.checked)} />\n      </label>\n    </div>\n  );\n}\n\nexport default AdminToggle;\n","import { Switch, Route } from 'react-router-dom';\n\nimport SideBar from '../SideBar';\nimport TodoList from '../../pages/TodoList';\nimport ReusingLogic from '../../pages/ReusingLogic';\nimport Admin from '../../pages/Admin';\nimport AdminToggle from '../../pages/Admin/AdminToggle';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <SideBar />\n\n      <main>\n        <Switch>\n          <Route path=\"/todo-list\">\n            <TodoList />\n          </Route>\n\n          <Route path=\"/reusing-logic\">\n            <ReusingLogic />\n          </Route>\n\n          <Route path=\"/admin\">\n            <Admin />\n          </Route>\n        </Switch>\n      </main>\n\n      <AdminToggle />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Root from './components/Root';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n  <Root>\n    <App />\n  </Root>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}